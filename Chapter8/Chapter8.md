一个特殊而又重要的类——String类
=====
**Java面向对象的最后一章啦！再接再厉！**

`String`是Java中特殊的一种类，它是一种引用类型，而不是原始数据类型（注意`String`类是大写字母开头的）。`String`类型的对象是字符串，也就是一系列的字符。所有`String`类型的变量, 例如```Hello World!```，都作为实例变量成为类的一个实例对象，这样的变量，称作**字面量(literal)**。一个`String`类型的字面量，包含着零个（包括0）以上的字符，字符的涵义包括双引号`" "`中的所有字符，包括空格与转义符。（双引号本身不属于字面量的一部分）。如下几个例子都是合法的字面量。
```
"" //这是一个空的字面量
```

```
"2468"
```

```
"I must\n go home"
```
`String`类型的对象（字面量）是不可变的，也就是说，一旦被初始化赋值以后，这个字面量的内容就与字面量的对象名绑定了，后期没有任何方法可以进行更改。例如，我们用语句
```java
String s = "Hello World!"
```
为`s`赋值后，`s`的内容在后期就不可能被改动了。

但是，你可以创建新的`String`类型对象（新的字面量）来作为现有的字面量的衍生变化（更新）。

String对象的创建和更新
-----
`String`类的对象（字面量）特殊在于，它们可以像一个原始数据类型的对象一样被初始化，例如
```java
String s = "Hello World!";
```
就创建了一个值为`Hello World!`（注意不包括双引号）的字面量`s`。
我们也可以使用的一般的为类创建实例对象的语句，二者是等价的：
```java
String s = new String("Hello World!");
```
在上述两个语句例子中，`s`都是一个值为`Hello World!`的字面量。


我们可以**更新**一个`String`类型的字面量：
```java
String s = "Sam";
s = "Tony";
```
这相当于
```java
String s = new String("Sam");
s = new String("Tony");
```
同学们可能会感到疑惑：我们前面不是说了，字面量一旦定义，就不可**改变**吗？其实，这并不矛盾。我们第一次定义的`John`并没有被**改变**，它只是被直接弃置了。相当于说，`s`对象原本指向内存中一块存储着`John`这个值的地址，后来，对这个地址的指向直接被弃置了，`s`对象被重新定向到内存中一块存储着`Harry`这个值的地址。也就是说，这个字面量是被**更新**了。

同样的，我们也可以这样更新`s`字面量：
```java
s = "Hello"
s = s + " Tony!";
```
s的字面量最终被更新为`Hello Tony!`

还有另外一些初始化`String`字面量的方法：java
```
String s1 = null; //此处s1是空引用
String s2 = new String(); //此处s2的值是一个空的字符串
```

String类对象的连接
-----
在上面的例子
```java
s = "Hello"
s = s + " Tony!";
```
中，我们使用了字符串串联运算符`+`，其操作的对象是字面量。`+`的作用是把两个字面量的值（字符串）串联在一起。

例如，我们有两个对象`lhs`和`rhs`，则语句`lhs + rhs`将生成一个新的字符串，内容为`lhs`的值紧紧跟随者`rhs`的值。如果`lhs`和`rhs`本身都不是`String`类型的字面量，则Java虚拟机JVM会自动为`lhs`和`rhs`对象调用`toString()`方法，然后将`toString()`方法返回的`String`类型的值串联在一起。（是的，如果我们没有为`lhs`与`rhs`对象重写`toString()`方法，最后得到的值可能会很奇怪，不是我们想要的。）如果，其中一个对象是`String`类型，而另一个对象是原始数据类型中的一种，则那个原始数据类型的对象会自动被转为`String`类型的对象，然后再进行串联。如果两个对象都不是`String`类型的对象，则会报错。

下面是几个例子：
```java
int number = 7;
String sayNumber = "The number is ";
sayNumber = sayNumber + number; //sayNumber的值最终为字符串：The number is 7
```
而
```java
int x = 3, y = 4;
String sum = x + y;
```
则会报错。我们不能把`int`类型的值直接赋给`String`类型的sum，因为语句x+y中，+运算符的操作对象是两个`int`型对象，其都不是`String`类型对象。在这里，`+`进行代数加法运算，而非字符串串联运算。
```
